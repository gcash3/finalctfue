<!doctype html>
<html lang='en'>
<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>Arcade CTF - Privacy Policy</title>
    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD' crossorigin='anonymous'>
    <link rel="stylesheet" href="css/main.css">
    <style>
        body {
            font-family: 'Press Start 2P', cursive;
            background-color: rgb(0, 0, 0);
            color: white;
            text-align: center;
        }

        h1 {
            font-size: 36px;
            margin-bottom: 30px;
        }

        #formContainer {
            display: none;
            margin-top: 20px;
        }

        input[type="text"],
        input[type="email"] {
            padding: 10px;
            font-size: 16px;
            margin-bottom: 10px;
            width: 300px;
            border-radius: 5px;
            border: none;
            background-color: #000;
            color: #fff;
        }

        .start-btn {
            text-align: center;
            display: inline-block;
            margin: 5px;
            font-weight: bold;
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            box-shadow: 0 .2em gray;
        }

        .start-btn:hover {
            background-color: #0056b3;
        }

        .start-btn:active {
            box-shadow: none;
            position: relative;
            top: .2em;
        }

        input[type="checkbox"] {
            transform: scale(1.5);
            margin-right: 10px;
        }

        label {
            font-size: 16px;
        }

        p {
            font-size: 14px;
            margin-top: 20px;
        }
    </style>
</head>
<body class="bg-dark" data-bs-theme="dark">
<div class="container text-center text-light my-5 py-5">
    <h1 class="arcade-classic">CTF Data Privacy Statement</h1>
    <p class="arcade-classic lh-5">This privacy policy will explain how our organization uses the personal data we collect from you when you use our website.</p>
    <div class="text-start">
        <p style="text-align: center;">Personal information includes your complete name and your UE webmail address provided by the University of the East, both of which are necessary to identify you as a legitimate participant of the event.</p>

        <p style="text-align: center;">By submitting your personal information, along with other information necessary to consider you as an official and legitimate participant of the event, you give consent to the UE-CCSS Research and Development Unit to process your data, in accordance with the Data Privacy Act of 2012 (RA 10173) and the University of the Eastâ€™s Data Privacy Policy.</p>

        <p style="text-align: center;">All information gathered shall be used solely for the purpose of tracking the participants of this event, as well as to determine the potential awardees among all participant. Furthermore, the information gathered from all participants shall be disposed three (3) days after the official end date of the event.</p>

    </div>

    <form id="acceptForm">
        <input type="checkbox" id="acceptCheckbox">
        <label for="acceptCheckbox">I accept the terms and conditions</label>
    </form>
    <div id="formContainer">
        <form id="userInfoForm">
            <input class="arcade-classic form-control d-block mx-auto bg-dark" type="text" id="fullName" name="fullName" placeholder="Full Name" required><br>
            <input class="arcade-classic form-control d-block mx-auto bg-dark" type="email" id="email" name="email" placeholder="UE Email" required><br>
            <input class="arcade-classic form-control d-block mx-auto bg-dark" type="text" id="username" name="username" placeholder="Username" required><br>
            <span class='start-btn' onclick="submitForm()">Submit</span>
        </form>
    </div>

</div>
<script>
    const acceptCheckbox = document.getElementById('acceptCheckbox');
    const formContainer = document.getElementById('formContainer');

    acceptCheckbox.addEventListener('change', function() {
        if (acceptCheckbox.checked) {
            formContainer.style.display = 'block';
        } else {
            formContainer.style.display = 'none';
        }
    });

    function submitForm() {
    const fullName = document.getElementById('fullName').value;
    const email = document.getElementById('email').value;
    const username = document.getElementById('username').value;
    const acceptCheckbox = document.getElementById('acceptCheckbox');

    // Check if the terms and conditions are accepted
    if (!acceptCheckbox.checked) {
        alert('Please accept the terms and conditions.');
        return;
    }
            // Debugging statement to log user data
            console.log('User data:', { fullName, email, username });
    // Create an object with the form data
    const formData = {
        fullName: fullName,
        email: email,
        username: username
    };

    // Send the form data to the server
    fetch('/submit-form', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(formData)
    })
    .then(response => response.json())
    .then(data => {
    if (data.success) {
  
        // Redirect to the /home route
        window.location.href = '/home';
    } else {
        // Display error message
        alert('Failed to save user information. Please try again.');
    }
})
    .catch(error => {
        console.error('Error:', error);
        // Display error message
        alert('An error occurred while processing your request.');
    });
}

</script>

<div class="text-center">
    <p class="arcade-classic">2024 UE CCSS <span class="text-success">Research and Development</span>.</p>
</div>
<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js' integrity='sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN' crossorigin='anonymous'></script>
</body>
</html>
